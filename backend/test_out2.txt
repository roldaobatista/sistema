PHPUnit 11.5.52 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.2.30

FEFEFFFFF                                                           9 / 9 (100%)

Time: 00:02.366, Memory: 58.00 MB

There were 2 errors:

1) Tests\Feature\ExternalApiTest::test_cep_not_found_returns_404
Mockery\Exception\InvalidCountException: Method lookup('00000000') from Mockery_0_App_Services_ViaCepService should be called
 exactly 1 times but called 0 times.

C:\Users\Roldão testes\projetos\sistema\backend\vendor\mockery\mockery\library\Mockery\CountValidator\Exact.php:32
C:\Users\Roldão testes\projetos\sistema\backend\vendor\mockery\mockery\library\Mockery\Expectation.php:739
C:\Users\Roldão testes\projetos\sistema\backend\vendor\mockery\mockery\library\Mockery\ExpectationDirector.php:202
C:\Users\Roldão testes\projetos\sistema\backend\vendor\mockery\mockery\library\Mockery\Container.php:583
C:\Users\Roldão testes\projetos\sistema\backend\vendor\mockery\mockery\library\Mockery\Container.php:519
C:\Users\Roldão testes\projetos\sistema\backend\vendor\mockery\mockery\library\Mockery.php:176
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\InteractsWithTestCaseLifecycle.php:147
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Foundation\Testing\TestCase.php:85

2) Tests\Feature\ExternalApiTest::test_cnpj_not_found_returns_404
Mockery\Exception\InvalidCountException: Method cnpj('00000000000000') from Mockery_1_App_Services_BrasilApiService should be called
 exactly 1 times but called 0 times.

C:\Users\Roldão testes\projetos\sistema\backend\vendor\mockery\mockery\library\Mockery\CountValidator\Exact.php:32
C:\Users\Roldão testes\projetos\sistema\backend\vendor\mockery\mockery\library\Mockery\Expectation.php:739
C:\Users\Roldão testes\projetos\sistema\backend\vendor\mockery\mockery\library\Mockery\ExpectationDirector.php:202
C:\Users\Roldão testes\projetos\sistema\backend\vendor\mockery\mockery\library\Mockery\Container.php:583
C:\Users\Roldão testes\projetos\sistema\backend\vendor\mockery\mockery\library\Mockery\Container.php:519
C:\Users\Roldão testes\projetos\sistema\backend\vendor\mockery\mockery\library\Mockery.php:176
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\InteractsWithTestCaseLifecycle.php:147
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Foundation\Testing\TestCase.php:85

--

There were 7 failures:

1) Tests\Feature\ExternalApiTest::test_cep_lookup_returns_address
Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\Concerns\AssertsStatusCodes.php:16
C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:50

2) Tests\Feature\ExternalApiTest::test_cnpj_lookup_returns_company_data
Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\Concerns\AssertsStatusCodes.php:16
C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:96

3) Tests\Feature\ExternalApiTest::test_ibge_states_returns_list
Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\Concerns\AssertsStatusCodes.php:16
C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:127

4) Tests\Feature\ExternalApiTest::test_ibge_cities_returns_list
Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\Concerns\AssertsStatusCodes.php:16
C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:145

5) Tests\Feature\ExternalApiTest::test_holidays_returns_list
Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\Concerns\AssertsStatusCodes.php:16
C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:163

6) Tests\Feature\ExternalApiTest::test_holiday_service_calculates_business_days
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'2025-01-03'
+'2025-01-02'

C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:185

7) Tests\Feature\ExternalApiTest::test_unauthenticated_request_returns_401
Expected response status code [401] but received 404.
Failed asserting that 404 is identical to 401.

C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
C:\Users\Roldão testes\projetos\sistema\backend\vendor\laravel\framework\src\Illuminate\Testing\Concerns\AssertsStatusCodes.php:121
C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:194

--

There were 7 risky tests:

1) Tests\Feature\ExternalApiTest::test_cep_lookup_returns_address
* Test code or tested code did not remove its own error handlers

* Test code or tested code did not remove its own exception handlers

C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:31

2) Tests\Feature\ExternalApiTest::test_cep_not_found_returns_404
* Test code or tested code did not remove its own error handlers

* Test code or tested code did not remove its own exception handlers

C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:55

3) Tests\Feature\ExternalApiTest::test_cnpj_lookup_returns_company_data
* Test code or tested code did not remove its own error handlers

* Test code or tested code did not remove its own exception handlers

C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:68

4) Tests\Feature\ExternalApiTest::test_cnpj_not_found_returns_404
* Test code or tested code did not remove its own error handlers

* Test code or tested code did not remove its own exception handlers

C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:101

5) Tests\Feature\ExternalApiTest::test_ibge_states_returns_list
* Test code or tested code did not remove its own error handlers

* Test code or tested code did not remove its own exception handlers

C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:114

6) Tests\Feature\ExternalApiTest::test_ibge_cities_returns_list
* Test code or tested code did not remove its own error handlers

* Test code or tested code did not remove its own exception handlers

C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:131

7) Tests\Feature\ExternalApiTest::test_holidays_returns_list
* Test code or tested code did not remove its own error handlers

* Test code or tested code did not remove its own exception handlers

C:\Users\Roldão testes\projetos\sistema\backend\tests\Feature\ExternalApiTest.php:149

ERRORS!
Tests: 9, Assertions: 16, Errors: 2, Failures: 7, Risky: 7.
